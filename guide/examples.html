<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring AI ì‹¤ì „ ì˜ˆì œ ëª¨ìŒ</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .code-block { background: #2d3748; border-radius: 8px; }
        .copy-button { transition: all 0.2s ease; }
        .copy-button:hover { background-color: #4a5568; }
        .example-card { transition: all 0.3s ease; }
        .example-card:hover { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
        .tab-button { transition: all 0.2s ease; }
        .tab-button.active { background-color: #3b82f6; color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <a href="../index.html" class="flex items-center text-xl font-bold text-gray-800">
                        <i class="fab fa-spring text-green-600 mr-2"></i>
                        Spring AI Hub
                    </a>
                    <span class="mx-3 text-gray-400">/</span>
                    <span class="text-gray-600">ì‹¤ì „ ì˜ˆì œ</span>
                </div>
                <a href="../index.html" class="text-blue-600 hover:text-blue-800">
                    <i class="fas fa-home"></i> í™ˆìœ¼ë¡œ
                </a>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <h1 class="text-4xl font-bold mb-4">ğŸ’¡ Spring AI ì‹¤ì „ ì˜ˆì œ ëª¨ìŒ</h1>
            <p class="text-gray-600 mb-8">ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ ì˜ˆì œë“¤</p>

            <!-- Example Categories -->
            <div class="flex flex-wrap gap-4 mb-8">
                <button class="example-filter tab-button active bg-blue-600 text-white px-4 py-2 rounded-lg" data-category="all">
                    ì „ì²´ ì˜ˆì œ
                </button>
                <button class="example-filter tab-button bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300" data-category="chatbot">
                    ì±„íŒ…ë´‡
                </button>
                <button class="example-filter tab-button bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300" data-category="rag">
                    RAG ì‹œìŠ¤í…œ
                </button>
                <button class="example-filter tab-button bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300" data-category="analysis">
                    ë¬¸ì„œ ë¶„ì„
                </button>
                <button class="example-filter tab-button bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300" data-category="integration">
                    ì„œë¹„ìŠ¤ í†µí•©
                </button>
            </div>

            <!-- Examples List -->
            <div class="space-y-8">
                
                <!-- Example 1: Customer Support Chatbot -->
                <div class="example-card bg-white rounded-lg shadow-lg overflow-hidden" data-category="chatbot">
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6">
                        <div class="flex items-center justify-between">
                            <h3 class="text-2xl font-bold flex items-center">
                                <i class="fas fa-headset mr-3"></i>
                                ê³ ê° ì§€ì› ì±„íŒ…ë´‡
                            </h3>
                            <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">
                                ë‚œì´ë„: â­â­
                            </span>
                        </div>
                        <p class="mt-2 text-blue-100">ë‹¤êµ­ì–´ ì§€ì›, ê°ì • ë¶„ì„, FAQ ì—°ë™ì„ í¬í•¨í•œ ì™„ì „í•œ ê³ ê° ì§€ì› ì‹œìŠ¤í…œ</p>
                    </div>
                    
                    <div class="p-6">
                        <!-- Tabs -->
                        <div class="border-b border-gray-200 mb-6">
                            <nav class="-mb-px flex space-x-8">
                                <button class="tab-nav py-2 px-1 border-b-2 border-blue-500 font-medium text-sm text-blue-600" 
                                        onclick="showTab(this, 'chatbot-overview')">
                                    ê°œìš”
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'chatbot-service')">
                                    ì„œë¹„ìŠ¤ ì½”ë“œ
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'chatbot-controller')">
                                    ì»¨íŠ¸ë¡¤ëŸ¬
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'chatbot-config')">
                                    ì„¤ì •
                                </button>
                            </nav>
                        </div>

                        <!-- Tab Contents -->
                        <div id="chatbot-overview" class="tab-content active">
                            <h4 class="font-semibold mb-3">ì£¼ìš” ê¸°ëŠ¥</h4>
                            <ul class="space-y-2 mb-6">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ì‹¤ì‹œê°„ ë‹¤êµ­ì–´ ë²ˆì—­ (í•œêµ­ì–´, ì˜ì–´, ì¼ë³¸ì–´, ì¤‘êµ­ì–´)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ê³ ê° ê°ì • ë¶„ì„ ë° ìš°ì„ ìˆœìœ„ ë¼ìš°íŒ…</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>FAQ ìë™ ê²€ìƒ‰ ë° ë‹µë³€</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ìœ ì§€ ë° íˆìŠ¤í† ë¦¬ ê´€ë¦¬</span>
                                </li>
                            </ul>

                            <h4 class="font-semibold mb-3">ì•„í‚¤í…ì²˜</h4>
                            <div class="bg-gray-100 p-4 rounded-lg">
                                <pre class="text-sm font-mono">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   í´ë¼ì´ì–¸íŠ¸   â”‚â”€â”€â”€â”€â–¶â”‚  Spring Boot  â”‚â”€â”€â”€â”€â–¶â”‚   ChatGPT   â”‚
â”‚  (ì›¹/ëª¨ë°”ì¼)  â”‚     â”‚   + AI Chat   â”‚     â”‚  + Tools    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  PostgreSQL   â”‚
                    â”‚  + PGVector   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                </pre>
                            </div>
                        </div>

                        <div id="chatbot-service" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('chatbot-service-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="chatbot-service-code"><code class="language-java">@Service
@Slf4j
public class CustomerSupportChatService {
    
    private final ChatClient chatClient;
    private final VectorStore vectorStore;
    private final TranslationService translationService;
    private final SentimentAnalyzer sentimentAnalyzer;
    private final ConversationRepository conversationRepository;
    
    public CustomerSupportChatService(ChatClient.Builder builder, 
                                    VectorStore vectorStore,
                                    TranslationService translationService,
                                    SentimentAnalyzer sentimentAnalyzer,
                                    ConversationRepository conversationRepository) {
        this.chatClient = builder
            .defaultOptions(OpenAiChatOptions.builder()
                .withModel(OpenAiApi.ChatModel.GPT_4_O)
                .withTemperature(0.7f)
                .build())
            .defaultSystem("""
                ë‹¹ì‹ ì€ ì¹œì ˆí•˜ê³  ì „ë¬¸ì ì¸ ê³ ê° ì§€ì› ìƒë‹´ì›ì…ë‹ˆë‹¤.
                ê³ ê°ì˜ ë¬¸ì œë¥¼ ì •í™•íˆ ì´í•´í•˜ê³  í•´ê²°ì±…ì„ ì œì‹œí•˜ì„¸ìš”.
                í•­ìƒ ê³µê°í•˜ëŠ” íƒœë„ë¡œ ì‘ëŒ€í•˜ì„¸ìš”.
                """)
            .build();
        
        this.vectorStore = vectorStore;
        this.translationService = translationService;
        this.sentimentAnalyzer = sentimentAnalyzer;
        this.conversationRepository = conversationRepository;
    }
    
    public ChatResponse handleCustomerQuery(ChatRequest request) {
        // 1. ì–¸ì–´ ê°ì§€ ë° ë²ˆì—­
        String detectedLanguage = translationService.detectLanguage(request.getMessage());
        String translatedMessage = request.getMessage();
        
        if (!detectedLanguage.equals("ko")) {
            translatedMessage = translationService.translate(
                request.getMessage(), 
                detectedLanguage, 
                "ko"
            );
        }
        
        // 2. ê°ì • ë¶„ì„
        SentimentResult sentiment = sentimentAnalyzer.analyze(translatedMessage);
        Priority priority = determinePriority(sentiment);
        
        // 3. FAQ ê²€ìƒ‰
        List<Document> relevantFAQs = vectorStore.similaritySearch(
            SearchRequest.query(translatedMessage)
                .withTopK(3)
                .withSimilarityThreshold(0.7)
        );
        
        // 4. ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ
        List<Message> conversationHistory = conversationRepository
            .findBySessionId(request.getSessionId())
            .stream()
            .map(this::toMessage)
            .toList();
        
        // 5. AI ì‘ë‹µ ìƒì„±
        String response = chatClient.prompt()
            .user(u -> u.text(translatedMessage)
                .param("faqs", relevantFAQs)
                .param("sentiment", sentiment)
                .param("history", conversationHistory))
            .call()
            .content();
        
        // 6. ì‘ë‹µ ë²ˆì—­ (í•„ìš”ì‹œ)
        String finalResponse = response;
        if (!detectedLanguage.equals("ko")) {
            finalResponse = translationService.translate(
                response, 
                "ko", 
                detectedLanguage
            );
        }
        
        // 7. ëŒ€í™” ì €ì¥
        saveConversation(request, finalResponse, sentiment, priority);
        
        return ChatResponse.builder()
            .message(finalResponse)
            .sessionId(request.getSessionId())
            .sentiment(sentiment)
            .priority(priority)
            .suggestedActions(generateSuggestedActions(sentiment, priority))
            .build();
    }
    
    private Priority determinePriority(SentimentResult sentiment) {
        if (sentiment.getScore() < -0.5) {
            return Priority.HIGH;
        } else if (sentiment.getScore() < 0) {
            return Priority.MEDIUM;
        }
        return Priority.LOW;
    }
    
    private List<String> generateSuggestedActions(SentimentResult sentiment, Priority priority) {
        List<String> actions = new ArrayList<>();
        
        if (priority == Priority.HIGH) {
            actions.add("ìƒë‹´ì› ì—°ê²°");
            actions.add("ê¸´ê¸‰ ì²˜ë¦¬ ìš”ì²­");
        }
        
        if (sentiment.getEmotions().contains("frustration")) {
            actions.add("ë³´ìƒ ì •ì±… ì•ˆë‚´");
            actions.add("ì‚¬ê³¼ ë©”ì‹œì§€ ì „ì†¡");
        }
        
        return actions;
    }
    
    // Streaming ì§€ì›
    public Flux<String> handleCustomerQueryStream(ChatRequest request) {
        // ì „ì²˜ë¦¬ ë¡œì§ ë™ì¼...
        
        return chatClient.prompt()
            .user(u -> u.text(request.getMessage()))
            .stream()
            .content()
            .map(chunk -> {
                // ì‹¤ì‹œê°„ ë²ˆì—­ ì ìš©
                if (!request.getLanguage().equals("ko")) {
                    return translationService.translateRealtime(chunk, "ko", request.getLanguage());
                }
                return chunk;
            });
    }
}</code></pre>
                            </div>
                        </div>

                        <div id="chatbot-controller" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('chatbot-controller-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="chatbot-controller-code"><code class="language-java">@RestController
@RequestMapping("/api/support")
@CrossOrigin(origins = "${app.cors.allowed-origins}")
@Slf4j
public class CustomerSupportController {
    
    private final CustomerSupportChatService chatService;
    private final MetricsService metricsService;
    
    @PostMapping("/chat")
    public ResponseEntity<ChatResponse> chat(@RequestBody @Valid ChatRequest request) {
        log.info("Received chat request for session: {}", request.getSessionId());
        
        Timer.Sample sample = Timer.start();
        try {
            ChatResponse response = chatService.handleCustomerQuery(request);
            
            // ë©”íŠ¸ë¦­ ê¸°ë¡
            metricsService.recordChatMetrics(
                request.getSessionId(),
                response.getSentiment(),
                response.getPriority()
            );
            
            return ResponseEntity.ok(response);
        } finally {
            sample.stop(Timer.builder("chat.request.duration")
                .tag("endpoint", "chat")
                .register(meterRegistry));
        }
    }
    
    @PostMapping(value = "/chat/stream", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
    public Flux<ServerSentEvent<String>> chatStream(@RequestBody @Valid ChatRequest request) {
        return chatService.handleCustomerQueryStream(request)
            .map(content -> ServerSentEvent.<String>builder()
                .data(content)
                .event("message")
                .build())
            .concatWith(Mono.just(ServerSentEvent.<String>builder()
                .event("complete")
                .data("[DONE]")
                .build()));
    }
    
    @GetMapping("/session/{sessionId}/history")
    public ResponseEntity<ConversationHistory> getHistory(@PathVariable String sessionId) {
        ConversationHistory history = chatService.getConversationHistory(sessionId);
        return ResponseEntity.ok(history);
    }
    
    @PostMapping("/feedback")
    public ResponseEntity<Void> submitFeedback(@RequestBody @Valid FeedbackRequest feedback) {
        chatService.processFeedback(feedback);
        return ResponseEntity.ok().build();
    }
    
    // WebSocket ì§€ì›
    @MessageMapping("/support")
    @SendTo("/topic/support/{sessionId}")
    public ChatResponse handleWebSocketChat(ChatRequest request) {
        return chatService.handleCustomerQuery(request);
    }
    
    // DTO í´ë˜ìŠ¤ë“¤
    @Data
    @Builder
    public static class ChatRequest {
        @NotBlank
        private String sessionId;
        
        @NotBlank
        private String message;
        
        private String language;
        private Map<String, Object> metadata;
    }
    
    @Data
    @Builder
    public static class ChatResponse {
        private String message;
        private String sessionId;
        private SentimentResult sentiment;
        private Priority priority;
        private List<String> suggestedActions;
        private Instant timestamp;
    }
}</code></pre>
                            </div>
                        </div>

                        <div id="chatbot-config" class="tab-content">
                            <div class="code-block p-4 relative mb-4">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('chatbot-config-yaml')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="chatbot-config-yaml"><code class="language-yaml">spring:
  ai:
    openai:
      api-key: ${OPENAI_API_KEY}
      chat:
        options:
          model: gpt-4o
          temperature: 0.7
          max-tokens: 500
    
    vectorstore:
      pgvector:
        url: jdbc:postgresql://localhost:5432/support_db
        username: ${DB_USERNAME}
        password: ${DB_PASSWORD}
        schema-name: public
        table-name: faq_embeddings
        distance-type: COSINE_DISTANCE
  
  # WebSocket ì„¤ì •
  websocket:
    broker:
      relay-host: localhost
      relay-port: 61613
  
# ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
app:
  support:
    languages:
      - ko
      - en
      - ja
      - zh
    sentiment:
      threshold:
        high-priority: -0.5
        medium-priority: 0.0
    conversation:
      retention-days: 30
      max-history-size: 50
  
# ëª¨ë‹ˆí„°ë§
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  metrics:
    tags:
      application: customer-support-chat</code></pre>
                            </div>

                            <h4 class="font-semibold mb-3">Docker Compose ì„¤ì •</h4>
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('chatbot-docker')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="chatbot-docker"><code class="language-yaml">version: '3.8'

services:
  postgres:
    image: ankane/pgvector:latest
    environment:
      POSTGRES_DB: support_db
      POSTGRES_USER: support_user
      POSTGRES_PASSWORD: support_pass
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
  
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
  
  app:
    build: .
    environment:
      SPRING_PROFILES_ACTIVE: prod
      OPENAI_API_KEY: ${OPENAI_API_KEY}
    depends_on:
      - postgres
      - redis
    ports:
      - "8080:8080"

volumes:
  postgres_data:</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example 2: Document Analysis RAG -->
                <div class="example-card bg-white rounded-lg shadow-lg overflow-hidden" data-category="rag analysis">
                    <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-6">
                        <div class="flex items-center justify-between">
                            <h3 class="text-2xl font-bold flex items-center">
                                <i class="fas fa-file-alt mr-3"></i>
                                ë¬¸ì„œ ë¶„ì„ RAG ì‹œìŠ¤í…œ
                            </h3>
                            <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">
                                ë‚œì´ë„: â­â­â­
                            </span>
                        </div>
                        <p class="mt-2 text-green-100">PDF, Word, ì´ë¯¸ì§€ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¬¸ì„œë¥¼ ë¶„ì„í•˜ê³  ì§ˆì˜ì‘ë‹µí•˜ëŠ” ì‹œìŠ¤í…œ</p>
                    </div>
                    
                    <div class="p-6">
                        <!-- Tabs -->
                        <div class="border-b border-gray-200 mb-6">
                            <nav class="-mb-px flex space-x-8">
                                <button class="tab-nav py-2 px-1 border-b-2 border-blue-500 font-medium text-sm text-blue-600" 
                                        onclick="showTab(this, 'rag-overview')">
                                    ê°œìš”
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'rag-service')">
                                    ì„œë¹„ìŠ¤ ì½”ë“œ
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'rag-pipeline')">
                                    íŒŒì´í”„ë¼ì¸
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'rag-search')">
                                    ê²€ìƒ‰ ìµœì í™”
                                </button>
                            </nav>
                        </div>

                        <!-- Tab Contents -->
                        <div id="rag-overview" class="tab-content active">
                            <h4 class="font-semibold mb-3">ì£¼ìš” ê¸°ëŠ¥</h4>
                            <ul class="space-y-2 mb-6">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ë‹¤ì–‘í•œ ë¬¸ì„œ í˜•ì‹ ì§€ì› (PDF, DOCX, TXT, MD, ì´ë¯¸ì§€)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (ë²¡í„° + í‚¤ì›Œë“œ)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ë©”íƒ€ë°ì´í„° ê¸°ë°˜ í•„í„°ë§</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ì²­í¬ ìµœì í™” ë° ì˜¤ë²„ë© ì²˜ë¦¬</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ì†ŒìŠ¤ ì¶”ì  ë° ì¸ìš© ê¸°ëŠ¥</span>
                                </li>
                            </ul>

                            <h4 class="font-semibold mb-3">ë¬¸ì„œ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸</h4>
                            <div class="bg-gray-100 p-4 rounded-lg">
                                <pre class="text-sm font-mono">
ë¬¸ì„œ ì—…ë¡œë“œ â†’ í˜•ì‹ ê°ì§€ â†’ í…ìŠ¤íŠ¸ ì¶”ì¶œ â†’ ì²­í¬ ë¶„í• 
     â†“                                      â†“
ì„ë² ë”© ìƒì„± â† ë©”íƒ€ë°ì´í„° ì¶”ê°€ â† ì „ì²˜ë¦¬/ì •ì œ
     â†“
ë²¡í„° ìŠ¤í† ì–´ ì €ì¥ â†’ ì¸ë±ì‹± ì™„ë£Œ
                                </pre>
                            </div>
                        </div>

                        <div id="rag-service" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('rag-service-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="rag-service-code"><code class="language-java">@Service
@Slf4j
public class DocumentAnalysisRAGService {
    
    private final ChatClient chatClient;
    private final VectorStore vectorStore;
    private final DocumentProcessingPipeline processingPipeline;
    private final HybridSearchService hybridSearchService;
    private final EmbeddingModel embeddingModel;
    
    public DocumentAnalysisRAGService(
            ChatClient.Builder builder,
            VectorStore vectorStore,
            DocumentProcessingPipeline processingPipeline,
            HybridSearchService hybridSearchService,
            EmbeddingModel embeddingModel) {
        
        this.chatClient = builder
            .defaultOptions(OpenAiChatOptions.builder()
                .withModel("gpt-4o")
                .withTemperature(0.3f) // ì •í™•ì„±ì„ ìœ„í•´ ë‚®ì€ ì˜¨ë„
                .build())
            .build();
        
        this.vectorStore = vectorStore;
        this.processingPipeline = processingPipeline;
        this.hybridSearchService = hybridSearchService;
        this.embeddingModel = embeddingModel;
    }
    
    // ë¬¸ì„œ ì—…ë¡œë“œ ë° ì²˜ë¦¬
    public DocumentIngestionResult ingestDocument(MultipartFile file, Map<String, String> metadata) {
        try {
            // 1. ë¬¸ì„œ í˜•ì‹ ê²€ì¦
            DocumentType docType = detectDocumentType(file);
            validateDocumentSize(file);
            
            // 2. ë¬¸ì„œ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
            ProcessedDocument processed = processingPipeline.process(file, docType);
            
            // 3. ì²­í¬ ìƒì„± (ì˜¤ë²„ë© í¬í•¨)
            List<DocumentChunk> chunks = createOptimizedChunks(processed);
            
            // 4. ë©”íƒ€ë°ì´í„° ë³´ê°•
            chunks.forEach(chunk -> {
                chunk.addMetadata("source", file.getOriginalFilename());
                chunk.addMetadata("type", docType.toString());
                chunk.addMetadata("processed_at", Instant.now().toString());
                chunk.addMetadata("page", String.valueOf(chunk.getPageNumber()));
                metadata.forEach(chunk::addMetadata);
            });
            
            // 5. ì„ë² ë”© ìƒì„± ë° ì €ì¥
            List<Document> documents = chunks.stream()
                .map(chunk -> new Document(
                    chunk.getContent(),
                    chunk.getMetadata()
                ))
                .toList();
            
            vectorStore.add(documents);
            
            // 6. ê²€ìƒ‰ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸
            hybridSearchService.updateIndex(processed.getId(), chunks);
            
            return DocumentIngestionResult.builder()
                .documentId(processed.getId())
                .filename(file.getOriginalFilename())
                .chunksCreated(chunks.size())
                .status(IngestionStatus.SUCCESS)
                .metadata(metadata)
                .build();
                
        } catch (Exception e) {
            log.error("Document ingestion failed", e);
            return DocumentIngestionResult.builder()
                .status(IngestionStatus.FAILED)
                .error(e.getMessage())
                .build();
        }
    }
    
    // ë¬¸ì„œ ì§ˆì˜ì‘ë‹µ
    public AnswerResponse askQuestion(String question, SearchFilters filters) {
        // 1. í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ìˆ˜í–‰
        HybridSearchResult searchResult = hybridSearchService.search(
            question, 
            filters,
            SearchOptions.builder()
                .vectorWeight(0.7f)
                .keywordWeight(0.3f)
                .topK(10)
                .build()
        );
        
        // 2. ê´€ë ¨ ë¬¸ì„œ ì¬ìˆœìœ„í™”
        List<RankedDocument> rerankedDocs = rerank(searchResult.getDocuments(), question);
        
        // 3. ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±
        String context = buildContext(rerankedDocs);
        
        // 4. ë‹µë³€ ìƒì„±
        String answer = chatClient.prompt()
            .system("""
                ë‹¹ì‹ ì€ ë¬¸ì„œ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
                ì£¼ì–´ì§„ ë¬¸ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •í™•í•˜ê³  ìƒì„¸í•œ ë‹µë³€ì„ ì œê³µí•˜ì„¸ìš”.
                ë‹µë³€ì‹œ ë°˜ë“œì‹œ ì¶œì²˜ë¥¼ ëª…ì‹œí•˜ê³ , í™•ì‹¤í•˜ì§€ ì•Šì€ ë‚´ìš©ì€ ì¶”ì¸¡í•˜ì§€ ë§ˆì„¸ìš”.
                """)
            .user(u -> u.text("""
                ì§ˆë¬¸: {question}
                
                ê´€ë ¨ ë¬¸ì„œ:
                {context}
                
                ìœ„ ë¬¸ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì§ˆë¬¸ì— ë‹µë³€í•´ì£¼ì„¸ìš”.
                ë‹µë³€ í˜•ì‹:
                1. í•µì‹¬ ë‹µë³€
                2. ìƒì„¸ ì„¤ëª…
                3. ì¶œì²˜ (ë¬¸ì„œëª…ê³¼ í˜ì´ì§€)
                """)
                .param("question", question)
                .param("context", context))
            .call()
            .content();
        
        // 5. ì†ŒìŠ¤ ì¶”ì  ì •ë³´ ì¶”ê°€
        List<SourceReference> sources = extractSourceReferences(rerankedDocs);
        
        return AnswerResponse.builder()
            .question(question)
            .answer(answer)
            .sources(sources)
            .confidence(calculateConfidence(rerankedDocs))
            .searchMetadata(searchResult.getMetadata())
            .build();
    }
    
    // ì²­í¬ ìµœì í™”
    private List<DocumentChunk> createOptimizedChunks(ProcessedDocument doc) {
        ChunkingStrategy strategy = ChunkingStrategy.builder()
            .maxChunkSize(1000)
            .overlapSize(200)
            .splitByParagraph(true)
            .preserveTables(true)
            .preserveCodeBlocks(true)
            .build();
        
        return TextSplitter.split(doc.getContent(), strategy);
    }
    
    // ì¬ìˆœìœ„í™” ì•Œê³ ë¦¬ì¦˜
    private List<RankedDocument> rerank(List<Document> documents, String query) {
        // Cross-Encoderë¥¼ ì‚¬ìš©í•œ ì¬ìˆœìœ„í™”
        return documents.stream()
            .map(doc -> {
                double relevanceScore = calculateRelevance(doc, query);
                double freshnessScore = calculateFreshness(doc);
                double qualityScore = calculateQuality(doc);
                
                double finalScore = 
                    relevanceScore * 0.6 + 
                    freshnessScore * 0.2 + 
                    qualityScore * 0.2;
                
                return new RankedDocument(doc, finalScore);
            })
            .sorted((a, b) -> Double.compare(b.getScore(), a.getScore()))
            .limit(5)
            .toList();
    }
}</code></pre>
                            </div>
                        </div>

                        <div id="rag-pipeline" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('rag-pipeline-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="rag-pipeline-code"><code class="language-java">@Component
@Slf4j
public class DocumentProcessingPipeline {
    
    private final TikaDocumentReader tikaReader;
    private final OCRService ocrService;
    private final TableExtractor tableExtractor;
    private final DocumentCleaner documentCleaner;
    
    public ProcessedDocument process(MultipartFile file, DocumentType type) {
        log.info("Processing document: {} of type {}", file.getOriginalFilename(), type);
        
        ProcessedDocument.Builder resultBuilder = ProcessedDocument.builder()
            .originalFilename(file.getOriginalFilename())
            .type(type);
        
        try {
            // 1. ê¸°ë³¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ
            String rawText = extractText(file, type);
            resultBuilder.rawText(rawText);
            
            // 2. íŠ¹ìˆ˜ ì½˜í…ì¸  ì²˜ë¦¬
            if (type == DocumentType.PDF || type == DocumentType.IMAGE) {
                // OCR ì²˜ë¦¬ (í•„ìš”ì‹œ)
                if (requiresOCR(file)) {
                    String ocrText = ocrService.extractText(file);
                    rawText = mergeTexts(rawText, ocrText);
                }
                
                // í…Œì´ë¸” ì¶”ì¶œ
                List<Table> tables = tableExtractor.extract(file);
                resultBuilder.tables(tables);
                
                // ì´ë¯¸ì§€ ì¶”ì¶œ ë° ì„¤ëª… ìƒì„±
                List<ImageContent> images = extractAndDescribeImages(file);
                resultBuilder.images(images);
            }
            
            // 3. í…ìŠ¤íŠ¸ ì •ì œ ë° êµ¬ì¡°í™”
            CleanedDocument cleaned = documentCleaner.clean(rawText);
            
            // 4. ì„¹ì…˜ ë¶„í• 
            List<DocumentSection> sections = splitIntoSections(cleaned);
            
            // 5. ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
            DocumentMetadata metadata = extractMetadata(file, cleaned);
            
            return resultBuilder
                .cleanedText(cleaned.getText())
                .sections(sections)
                .metadata(metadata)
                .processingStatus(ProcessingStatus.SUCCESS)
                .build();
                
        } catch (Exception e) {
            log.error("Document processing failed", e);
            return resultBuilder
                .processingStatus(ProcessingStatus.FAILED)
                .error(e.getMessage())
                .build();
        }
    }
    
    private String extractText(MultipartFile file, DocumentType type) throws IOException {
        return switch (type) {
            case PDF -> tikaReader.read(file.getInputStream());
            case DOCX -> extractFromDocx(file);
            case MARKDOWN -> new String(file.getBytes(), StandardCharsets.UTF_8);
            case TXT -> new String(file.getBytes(), StandardCharsets.UTF_8);
            case IMAGE -> ocrService.extractText(file);
            default -> throw new UnsupportedDocumentException("Unsupported type: " + type);
        };
    }
    
    private List<DocumentSection> splitIntoSections(CleanedDocument doc) {
        // í—¤ë” ê¸°ë°˜ ì„¹ì…˜ ë¶„í• 
        Pattern headerPattern = Pattern.compile("^#{1,3}\\s+(.+)$", Pattern.MULTILINE);
        Matcher matcher = headerPattern.matcher(doc.getText());
        
        List<DocumentSection> sections = new ArrayList<>();
        int lastEnd = 0;
        
        while (matcher.find()) {
            if (lastEnd < matcher.start()) {
                // ì´ì „ ì„¹ì…˜ ì €ì¥
                String content = doc.getText().substring(lastEnd, matcher.start()).trim();
                if (!content.isEmpty()) {
                    sections.add(DocumentSection.builder()
                        .title(extractTitle(content))
                        .content(content)
                        .startIndex(lastEnd)
                        .endIndex(matcher.start())
                        .build());
                }
            }
            lastEnd = matcher.start();
        }
        
        // ë§ˆì§€ë§‰ ì„¹ì…˜ ì²˜ë¦¬
        if (lastEnd < doc.getText().length()) {
            sections.add(DocumentSection.builder()
                .content(doc.getText().substring(lastEnd))
                .startIndex(lastEnd)
                .endIndex(doc.getText().length())
                .build());
        }
        
        return sections;
    }
    
    private List<ImageContent> extractAndDescribeImages(MultipartFile file) {
        List<ImageContent> images = new ArrayList<>();
        
        try {
            List<BufferedImage> extractedImages = ImageExtractor.extract(file);
            
            for (int i = 0; i < extractedImages.size(); i++) {
                BufferedImage img = extractedImages.get(i);
                
                // AIë¥¼ ì‚¬ìš©í•œ ì´ë¯¸ì§€ ì„¤ëª… ìƒì„±
                String description = generateImageDescription(img);
                
                images.add(ImageContent.builder()
                    .index(i)
                    .width(img.getWidth())
                    .height(img.getHeight())
                    .description(description)
                    .base64Data(encodeToBase64(img))
                    .build());
            }
        } catch (Exception e) {
            log.warn("Failed to extract images", e);
        }
        
        return images;
    }
}</code></pre>
                            </div>
                        </div>

                        <div id="rag-search" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('rag-search-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="rag-search-code"><code class="language-java">@Service
@Slf4j
public class HybridSearchService {
    
    private final VectorStore vectorStore;
    private final ElasticsearchClient elasticsearchClient;
    private final EmbeddingModel embeddingModel;
    private final SearchOptimizer searchOptimizer;
    
    public HybridSearchResult search(String query, SearchFilters filters, SearchOptions options) {
        log.debug("Performing hybrid search for query: {}", query);
        
        // 1. ì¿¼ë¦¬ í™•ì¥ ë° ê°œì„ 
        ExpandedQuery expandedQuery = searchOptimizer.expandQuery(query);
        
        // 2. ë²¡í„° ê²€ìƒ‰
        List<Document> vectorResults = performVectorSearch(
            expandedQuery.getMainQuery(), 
            filters, 
            options.getTopK() * 2  // ì¬ìˆœìœ„í™”ë¥¼ ìœ„í•´ ë” ë§ì´ ê²€ìƒ‰
        );
        
        // 3. í‚¤ì›Œë“œ ê²€ìƒ‰ (Elasticsearch)
        List<Document> keywordResults = performKeywordSearch(
            expandedQuery,
            filters,
            options.getTopK() * 2
        );
        
        // 4. ê²°ê³¼ ë³‘í•© ë° ì ìˆ˜ ê³„ì‚°
        Map<String, ScoredDocument> mergedResults = new HashMap<>();
        
        // ë²¡í„° ê²€ìƒ‰ ê²°ê³¼ ì²˜ë¦¬
        for (int i = 0; i < vectorResults.size(); i++) {
            Document doc = vectorResults.get(i);
            double vectorScore = 1.0 - (i * 0.1 / vectorResults.size());
            
            mergedResults.put(doc.getId(), ScoredDocument.builder()
                .document(doc)
                .vectorScore(vectorScore * options.getVectorWeight())
                .build());
        }
        
        // í‚¤ì›Œë“œ ê²€ìƒ‰ ê²°ê³¼ ë³‘í•©
        for (int i = 0; i < keywordResults.size(); i++) {
            Document doc = keywordResults.get(i);
            double keywordScore = 1.0 - (i * 0.1 / keywordResults.size());
            
            mergedResults.compute(doc.getId(), (id, existing) -> {
                if (existing == null) {
                    return ScoredDocument.builder()
                        .document(doc)
                        .keywordScore(keywordScore * options.getKeywordWeight())
                        .build();
                } else {
                    existing.setKeywordScore(keywordScore * options.getKeywordWeight());
                    return existing;
                }
            });
        }
        
        // 5. ìµœì¢… ì ìˆ˜ ê³„ì‚° ë° ì •ë ¬
        List<ScoredDocument> finalResults = mergedResults.values().stream()
            .peek(doc -> doc.setFinalScore(
                doc.getVectorScore() + 
                doc.getKeywordScore() + 
                calculateBoostScore(doc, filters)
            ))
            .sorted((a, b) -> Double.compare(b.getFinalScore(), a.getFinalScore()))
            .limit(options.getTopK())
            .toList();
        
        // 6. ê²€ìƒ‰ ë©”íƒ€ë°ì´í„° ìƒì„±
        SearchMetadata metadata = SearchMetadata.builder()
            .totalVectorResults(vectorResults.size())
            .totalKeywordResults(keywordResults.size())
            .mergedResults(finalResults.size())
            .queryExpansions(expandedQuery.getExpansions())
            .searchDuration(Duration.between(startTime, Instant.now()))
            .build();
        
        return HybridSearchResult.builder()
            .documents(finalResults.stream()
                .map(ScoredDocument::getDocument)
                .toList())
            .scores(finalResults.stream()
                .collect(Collectors.toMap(
                    sd -> sd.getDocument().getId(),
                    ScoredDocument::getFinalScore
                )))
            .metadata(metadata)
            .build();
    }
    
    private List<Document> performVectorSearch(String query, SearchFilters filters, int topK) {
        SearchRequest.Builder searchBuilder = SearchRequest.query(query)
            .withTopK(topK);
        
        // í•„í„° ì ìš©
        if (filters != null) {
            FilterExpressionBuilder filterBuilder = new FilterExpressionBuilder();
            
            if (filters.getFileTypes() != null && !filters.getFileTypes().isEmpty()) {
                filterBuilder.in("type", filters.getFileTypes());
            }
            
            if (filters.getDateRange() != null) {
                filterBuilder.gte("processed_at", filters.getDateRange().getStart())
                            .lte("processed_at", filters.getDateRange().getEnd());
            }
            
            if (filters.getMetadataFilters() != null) {
                filters.getMetadataFilters().forEach((key, value) -> 
                    filterBuilder.eq(key, value)
                );
            }
            
            searchBuilder.withFilterExpression(filterBuilder.build());
        }
        
        return vectorStore.similaritySearch(searchBuilder.build());
    }
    
    private List<Document> performKeywordSearch(ExpandedQuery query, SearchFilters filters, int topK) {
        // Elasticsearch ì¿¼ë¦¬ êµ¬ì„±
        BoolQuery.Builder boolQuery = new BoolQuery.Builder();
        
        // ë©”ì¸ ì¿¼ë¦¬
        boolQuery.must(m -> m.multiMatch(mm -> mm
            .query(query.getMainQuery())
            .fields("content", "title^2", "summary^1.5")
            .type(TextQueryType.BestFields)
            .fuzziness("AUTO")
        ));
        
        // ë™ì˜ì–´ ë° í™•ì¥ ì¿¼ë¦¬
        for (String expansion : query.getExpansions()) {
            boolQuery.should(s -> s.match(m -> m
                .field("content")
                .query(expansion)
                .boost(0.5f)
            ));
        }
        
        // í•„í„° ì ìš©
        applyElasticsearchFilters(boolQuery, filters);
        
        // ê²€ìƒ‰ ì‹¤í–‰
        SearchResponse<DocumentES> response = elasticsearchClient.search(s -> s
            .index("documents")
            .query(q -> q.bool(boolQuery.build()))
            .size(topK)
            .highlight(h -> h
                .fields("content", f -> f
                    .preTags("<mark>")
                    .postTags("</mark>")
                    .fragmentSize(150)
                    .numberOfFragments(3)
                )
            ),
            DocumentES.class
        );
        
        // ê²°ê³¼ ë³€í™˜
        return response.hits().hits().stream()
            .map(hit -> {
                Document doc = new Document(
                    hit.source().getContent(),
                    hit.source().getMetadata()
                );
                doc.setId(hit.id());
                
                // í•˜ì´ë¼ì´íŠ¸ ì¶”ê°€
                if (hit.highlight().containsKey("content")) {
                    doc.getMetadata().put("highlight", 
                        String.join(" ... ", hit.highlight().get("content"))
                    );
                }
                
                return doc;
            })
            .toList();
    }
    
    // ë¶€ìŠ¤íŠ¸ ì ìˆ˜ ê³„ì‚° (ìµœì‹ ì„±, ì‹ ë¢°ë„ ë“±)
    private double calculateBoostScore(ScoredDocument doc, SearchFilters filters) {
        double boost = 0.0;
        
        // ìµœì‹ ì„± ë¶€ìŠ¤íŠ¸
        String processedAt = doc.getDocument().getMetadata().get("processed_at");
        if (processedAt != null) {
            long daysSinceProcessed = ChronoUnit.DAYS.between(
                Instant.parse(processedAt),
                Instant.now()
            );
            boost += Math.max(0, 0.1 * (1 - daysSinceProcessed / 30.0));
        }
        
        // ì†ŒìŠ¤ ì‹ ë¢°ë„ ë¶€ìŠ¤íŠ¸
        String source = doc.getDocument().getMetadata().get("source");
        if (source != null && filters.getTrustedSources().contains(source)) {
            boost += 0.2;
        }
        
        return boost;
    }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example 3: Code Review Assistant -->
                <div class="example-card bg-white rounded-lg shadow-lg overflow-hidden" data-category="integration">
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6">
                        <div class="flex items-center justify-between">
                            <h3 class="text-2xl font-bold flex items-center">
                                <i class="fas fa-code-branch mr-3"></i>
                                AI ì½”ë“œ ë¦¬ë·° ì–´ì‹œìŠ¤í„´íŠ¸
                            </h3>
                            <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">
                                ë‚œì´ë„: â­â­â­â­
                            </span>
                        </div>
                        <p class="mt-2 text-purple-100">GitHub PRê³¼ í†µí•©ë˜ì–´ ìë™ìœ¼ë¡œ ì½”ë“œë¥¼ ë¦¬ë·°í•˜ê³  ê°œì„ ì‚¬í•­ì„ ì œì•ˆí•˜ëŠ” ì‹œìŠ¤í…œ</p>
                    </div>
                    
                    <div class="p-6">
                        <div class="border-b border-gray-200 mb-6">
                            <nav class="-mb-px flex space-x-8">
                                <button class="tab-nav py-2 px-1 border-b-2 border-blue-500 font-medium text-sm text-blue-600" 
                                        onclick="showTab(this, 'review-overview')">
                                    ê°œìš”
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'review-service')">
                                    ì„œë¹„ìŠ¤ ì½”ë“œ
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'review-github')">
                                    GitHub í†µí•©
                                </button>
                                <button class="tab-nav py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" 
                                        onclick="showTab(this, 'review-rules')">
                                    ë¦¬ë·° ê·œì¹™
                                </button>
                            </nav>
                        </div>

                        <div id="review-overview" class="tab-content active">
                            <h4 class="font-semibold mb-3">ì£¼ìš” ê¸°ëŠ¥</h4>
                            <ul class="space-y-2 mb-6">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>GitHub PR ìë™ ê°ì§€ ë° ë¦¬ë·°</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ì½”ë“œ ìŠ¤íƒ€ì¼, ë²„ê·¸, ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>ê°œì„  ì œì•ˆ ë° ì½”ë“œ ì˜ˆì‹œ ì œê³µ</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                    <span>íŒ€ë³„ ì»¤ìŠ¤í…€ ë¦¬ë·° ê·œì¹™ ì„¤ì •</span>
                                </li>
                            </ul>

                            <h4 class="font-semibold mb-3">ì›Œí¬í”Œë¡œìš°</h4>
                            <div class="bg-gray-100 p-4 rounded-lg">
                                <pre class="text-sm font-mono">
1. PR ìƒì„±/ì—…ë°ì´íŠ¸ â†’ GitHub Webhook
2. ë³€ê²½ íŒŒì¼ ë¶„ì„ â†’ ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ
3. AI ë¦¬ë·° ìˆ˜í–‰ â†’ ë©€í‹° íŒ¨ìŠ¤ ë¶„ì„
4. ë¦¬ë·° ì½”ë©˜íŠ¸ ìƒì„± â†’ GitHub API
5. ê°œë°œì í”¼ë“œë°± â†’ í•™ìŠµ ë° ê°œì„ 
                                </pre>
                            </div>
                        </div>

                        <div id="review-service" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('review-service-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="review-service-code"><code class="language-java">@Service
@Slf4j
public class AICodeReviewService {
    
    private final ChatClient chatClient;
    private final GitHubService githubService;
    private final CodeAnalysisService codeAnalysisService;
    private final ReviewRulesEngine rulesEngine;
    private final VectorStore codebaseKnowledge;
    
    public AICodeReviewService(
            ChatClient.Builder builder,
            GitHubService githubService,
            CodeAnalysisService codeAnalysisService,
            ReviewRulesEngine rulesEngine,
            VectorStore codebaseKnowledge) {
        
        this.chatClient = builder
            .defaultOptions(OpenAiChatOptions.builder()
                .withModel("gpt-4o")
                .withTemperature(0.3f)
                .build())
            .build();
        
        this.githubService = githubService;
        this.codeAnalysisService = codeAnalysisService;
        this.rulesEngine = rulesEngine;
        this.codebaseKnowledge = codebaseKnowledge;
    }
    
    @Async
    public CompletableFuture<ReviewResult> reviewPullRequest(PullRequestEvent event) {
        log.info("Starting review for PR #{} in {}", 
            event.getPullRequest().getNumber(), 
            event.getRepository().getFullName());
        
        try {
            // 1. PR ì •ë³´ ë° ë³€ê²½ì‚¬í•­ ë¡œë“œ
            PullRequest pr = githubService.getPullRequest(
                event.getRepository().getOwner().getLogin(),
                event.getRepository().getName(),
                event.getPullRequest().getNumber()
            );
            
            List<PullRequestFile> files = githubService.getPullRequestFiles(pr);
            
            // 2. ë³€ê²½ íŒŒì¼ ë¶„ì„
            Map<String, FileAnalysis> fileAnalyses = new HashMap<>();
            for (PullRequestFile file : files) {
                if (shouldReviewFile(file)) {
                    FileAnalysis analysis = analyzeFile(file, pr);
                    fileAnalyses.put(file.getFilename(), analysis);
                }
            }
            
            // 3. ì „ì²´ PR ì»¨í…ìŠ¤íŠ¸ ë¶„ì„
            PRContext context = buildPRContext(pr, fileAnalyses);
            
            // 4. AI ë¦¬ë·° ìˆ˜í–‰
            List<ReviewComment> comments = new ArrayList<>();
            
            // íŒŒì¼ë³„ ìƒì„¸ ë¦¬ë·°
            for (Map.Entry<String, FileAnalysis> entry : fileAnalyses.entrySet()) {
                List<ReviewComment> fileComments = performFileReview(
                    entry.getKey(), 
                    entry.getValue(), 
                    context
                );
                comments.addAll(fileComments);
            }
            
            // ì „ì²´ PR ë¦¬ë·°
            String summaryReview = performPRSummaryReview(context, fileAnalyses);
            
            // 5. GitHubì— ë¦¬ë·° í¬ìŠ¤íŒ…
            postReviewToGitHub(pr, comments, summaryReview);
            
            // 6. ë©”íŠ¸ë¦­ ë° í•™ìŠµ ë°ì´í„° ì €ì¥
            saveReviewMetrics(pr, comments);
            
            return CompletableFuture.completedFuture(
                ReviewResult.success(comments.size(), summaryReview)
            );
            
        } catch (Exception e) {
            log.error("Failed to review PR", e);
            return CompletableFuture.completedFuture(
                ReviewResult.failure(e.getMessage())
            );
        }
    }
    
    private List<ReviewComment> performFileReview(
            String filename, 
            FileAnalysis analysis, 
            PRContext context) {
        
        List<ReviewComment> comments = new ArrayList<>();
        
        // 1. ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
        String qualityReview = chatClient.prompt()
            .system("""
                ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤.
                ë‹¤ìŒ ê´€ì ì—ì„œ ì½”ë“œë¥¼ ê²€í† í•˜ì„¸ìš”:
                - ì½”ë“œ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±
                - ëª…ëª… ê·œì¹™ê³¼ ì¼ê´€ì„±
                - ë³µì¡ë„ì™€ ì¤‘ë³µ ì½”ë“œ
                - ì„±ëŠ¥ ìµœì í™” ê¸°íšŒ
                """)
            .user(u -> u.text("""
                íŒŒì¼: {filename}
                ë³€ê²½ ë‚´ìš©:
                {patch}
                
                í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸:
                {context}
                
                ì´ ì½”ë“œì˜ í’ˆì§ˆì„ ê²€í† í•˜ê³  ê°œì„ ì‚¬í•­ì„ ì œì•ˆí•´ì£¼ì„¸ìš”.
                """)
                .param("filename", filename)
                .param("patch", analysis.getPatch())
                .param("context", context.getSummary()))
            .call()
            .content();
        
        // 2. ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬
        List<SecurityIssue> securityIssues = codeAnalysisService.scanSecurity(analysis);
        for (SecurityIssue issue : securityIssues) {
            comments.add(ReviewComment.builder()
                .path(filename)
                .line(issue.getLine())
                .body(String.format("ğŸ”’ **ë³´ì•ˆ ê²½ê³ **: %s\n\n%s\n\nì¶”ì²œ ìˆ˜ì •:\n```%s\n%s\n```",
                    issue.getTitle(),
                    issue.getDescription(),
                    analysis.getLanguage(),
                    issue.getSuggestedFix()))
                .severity(ReviewSeverity.HIGH)
                .build());
        }
        
        // 3. ë²„ê·¸ ê°€ëŠ¥ì„± ê²€ì‚¬
        String bugAnalysis = chatClient.prompt()
            .system("ì ì¬ì  ë²„ê·¸ë‚˜ ëŸ°íƒ€ì„ ì—ëŸ¬ ê°€ëŠ¥ì„±ì„ ì°¾ì•„ì£¼ì„¸ìš”.")
            .user(u -> u.text(analysis.getPatch()))
            .functions("detectBugs", "suggestFixes")
            .call()
            .content();
        
        // 4. íŒ€ ê·œì¹™ ê²€ì‚¬
        List<RuleViolation> violations = rulesEngine.check(analysis, context.getTeamRules());
        for (RuleViolation violation : violations) {
            comments.add(ReviewComment.builder()
                .path(filename)
                .line(violation.getLine())
                .body(String.format("ğŸ“ **ìŠ¤íƒ€ì¼ ê°€ì´ë“œ**: %s", violation.getMessage()))
                .severity(ReviewSeverity.LOW)
                .build());
        }
        
        // 5. ê°œì„  ì œì•ˆ
        if (!qualityReview.isEmpty()) {
            comments.add(ReviewComment.builder()
                .path(filename)
                .body(qualityReview)
                .severity(ReviewSeverity.MEDIUM)
                .build());
        }
        
        return comments;
    }
    
    private String performPRSummaryReview(PRContext context, Map<String, FileAnalysis> analyses) {
        // ê´€ë ¨ ì½”ë“œë² ì´ìŠ¤ ì§€ì‹ ê²€ìƒ‰
        List<Document> relatedCode = codebaseKnowledge.similaritySearch(
            SearchRequest.query(context.getDescription())
                .withTopK(5)
        );
        
        return chatClient.prompt()
            .system("""
                ì „ì²´ PRì„ ì¢…í•©ì ìœ¼ë¡œ ê²€í† í•˜ê³  ë‹¤ìŒì„ í¬í•¨í•œ ìš”ì•½ì„ ì‘ì„±í•˜ì„¸ìš”:
                1. ë³€ê²½ì‚¬í•­ì˜ ëª©ì ê³¼ ì˜í–¥ë„
                2. ì•„í‚¤í…ì²˜ ë° ì„¤ê³„ ê´€ì ì˜ í”¼ë“œë°±
                3. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í‰ê°€
                4. ì ì¬ì  ìœ„í—˜ ìš”ì†Œ
                5. ì „ë°˜ì ì¸ ì½”ë“œ í’ˆì§ˆ í‰ê°€
                """)
            .user(u -> u.text("""
                PR ì œëª©: {title}
                ì„¤ëª…: {description}
                ë³€ê²½ íŒŒì¼ ìˆ˜: {fileCount}
                ì¶”ê°€: +{additions} / ì‚­ì œ: -{deletions}
                
                ì£¼ìš” ë³€ê²½ì‚¬í•­:
                {changeSummary}
                
                ê´€ë ¨ ì½”ë“œë² ì´ìŠ¤ ì»¨í…ìŠ¤íŠ¸:
                {relatedCode}
                """)
                .param("title", context.getTitle())
                .param("description", context.getDescription())
                .param("fileCount", analyses.size())
                .param("additions", context.getAdditions())
                .param("deletions", context.getDeletions())
                .param("changeSummary", summarizeChanges(analyses))
                .param("relatedCode", relatedCode))
            .call()
            .content();
    }
    
    private void postReviewToGitHub(PullRequest pr, List<ReviewComment> comments, String summary) {
        // ë¦¬ë·° ìƒì„±
        Review review = Review.builder()
            .body(summary)
            .event(comments.isEmpty() ? "APPROVE" : "REQUEST_CHANGES")
            .comments(comments.stream()
                .map(c -> Comment.builder()
                    .path(c.getPath())
                    .line(c.getLine())
                    .body(c.getBody())
                    .build())
                .toList())
            .build();
        
        githubService.createReview(
            pr.getBase().getRepo().getOwner().getLogin(),
            pr.getBase().getRepo().getName(),
            pr.getNumber(),
            review
        );
        
        // ì¤‘ìš” ì´ìŠˆëŠ” ë³„ë„ ì´ìŠˆë¡œ ìƒì„±
        comments.stream()
            .filter(c -> c.getSeverity() == ReviewSeverity.HIGH)
            .forEach(c -> githubService.createIssue(
                pr.getBase().getRepo().getOwner().getLogin(),
                pr.getBase().getRepo().getName(),
                Issue.builder()
                    .title("ğŸš¨ " + extractIssueTitle(c))
                    .body(c.getBody() + "\n\nFound in PR #" + pr.getNumber())
                    .labels(List.of("security", "automated-review"))
                    .build()
            ));
    }
}</code></pre>
                            </div>
                        </div>

                        <div id="review-github" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('review-github-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="review-github-code"><code class="language-java">@RestController
@RequestMapping("/webhooks/github")
@Slf4j
public class GitHubWebhookController {
    
    private final AICodeReviewService codeReviewService;
    private final String webhookSecret;
    
    public GitHubWebhookController(
            AICodeReviewService codeReviewService,
            @Value("${github.webhook.secret}") String webhookSecret) {
        this.codeReviewService = codeReviewService;
        this.webhookSecret = webhookSecret;
    }
    
    @PostMapping
    public ResponseEntity<Void> handleWebhook(
            @RequestHeader("X-GitHub-Event") String eventType,
            @RequestHeader("X-Hub-Signature-256") String signature,
            @RequestBody String payload) {
        
        // 1. ì„œëª… ê²€ì¦
        if (!verifySignature(payload, signature)) {
            log.warn("Invalid GitHub webhook signature");
            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
        }
        
        // 2. ì´ë²¤íŠ¸ íƒ€ì…ë³„ ì²˜ë¦¬
        try {
            switch (eventType) {
                case "pull_request" -> handlePullRequestEvent(payload);
                case "pull_request_review_comment" -> handleReviewCommentEvent(payload);
                case "issue_comment" -> handleIssueCommentEvent(payload);
                default -> log.debug("Ignoring event type: {}", eventType);
            }
            
            return ResponseEntity.ok().build();
            
        } catch (Exception e) {
            log.error("Failed to process webhook", e);
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }
    
    private void handlePullRequestEvent(String payload) {
        PullRequestEvent event = parseJson(payload, PullRequestEvent.class);
        
        // PRì´ ì—´ë¦¬ê±°ë‚˜ ì—…ë°ì´íŠ¸ë  ë•Œë§Œ ë¦¬ë·°
        if (event.getAction().equals("opened") || 
            event.getAction().equals("synchronize")) {
            
            // ë´‡ì´ ë§Œë“  PRì€ ë¬´ì‹œ
            if (!event.getPullRequest().getUser().getType().equals("Bot")) {
                codeReviewService.reviewPullRequest(event);
            }
        }
    }
    
    private void handleReviewCommentEvent(String payload) {
        ReviewCommentEvent event = parseJson(payload, ReviewCommentEvent.class);
        
        // AI ë¦¬ë·°ì— ëŒ€í•œ í”¼ë“œë°± ì²˜ë¦¬
        if (event.getComment().getBody().contains("@ai-reviewer")) {
            String feedback = extractFeedback(event.getComment().getBody());
            codeReviewService.processFeedback(
                event.getPullRequest(),
                event.getComment(),
                feedback
            );
        }
    }
    
    private boolean verifySignature(String payload, String signature) {
        try {
            Mac mac = Mac.getInstance("HmacSHA256");
            SecretKeySpec secretKey = new SecretKeySpec(
                webhookSecret.getBytes(StandardCharsets.UTF_8), 
                "HmacSHA256"
            );
            mac.init(secretKey);
            
            byte[] hash = mac.doFinal(payload.getBytes(StandardCharsets.UTF_8));
            String computed = "sha256=" + bytesToHex(hash);
            
            return MessageDigest.isEqual(
                computed.getBytes(StandardCharsets.UTF_8),
                signature.getBytes(StandardCharsets.UTF_8)
            );
        } catch (Exception e) {
            log.error("Failed to verify signature", e);
            return false;
        }
    }
}

// GitHub ì„œë¹„ìŠ¤
@Service
public class GitHubService {
    
    private final GitHub github;
    private final GitHubMetrics metrics;
    
    public GitHubService(@Value("${github.token}") String token) throws IOException {
        this.github = new GitHubBuilder()
            .withOAuthToken(token)
            .build();
    }
    
    public void createReview(String owner, String repo, int prNumber, Review review) {
        try {
            GHRepository repository = github.getRepository(owner + "/" + repo);
            GHPullRequest pr = repository.getPullRequest(prNumber);
            
            GHPullRequestReviewBuilder reviewBuilder = pr.createReview()
                .body(review.getBody());
            
            // ë¼ì¸ë³„ ì½”ë©˜íŠ¸ ì¶”ê°€
            for (Comment comment : review.getComments()) {
                reviewBuilder.comment(
                    comment.getBody(),
                    comment.getPath(),
                    comment.getLine()
                );
            }
            
            // ë¦¬ë·° ìƒíƒœ ì„¤ì •
            switch (review.getEvent()) {
                case "APPROVE" -> reviewBuilder.approve();
                case "REQUEST_CHANGES" -> reviewBuilder.requestChanges();
                default -> reviewBuilder.comment();
            }
            
            reviewBuilder.create();
            metrics.incrementReviewsPosted();
            
        } catch (IOException e) {
            log.error("Failed to create review", e);
            metrics.incrementReviewErrors();
            throw new GitHubException("Failed to create review", e);
        }
    }
}</code></pre>
                            </div>
                        </div>

                        <div id="review-rules" class="tab-content">
                            <div class="code-block p-4 relative">
                                <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                        onclick="copyCode('review-rules-code')">
                                    <i class="fas fa-copy"></i> ë³µì‚¬
                                </button>
                                <pre id="review-rules-code"><code class="language-yaml"># íŒ€ë³„ ì½”ë“œ ë¦¬ë·° ê·œì¹™ ì„¤ì •
team:
  name: "Backend Team"
  language: "java"
  
rules:
  # ì½”ë“œ ìŠ¤íƒ€ì¼
  style:
    - id: "naming-convention"
      description: "í´ë˜ìŠ¤ëª…ì€ PascalCase, ë©”ì„œë“œëª…ì€ camelCase"
      severity: "low"
      
    - id: "max-line-length"
      description: "í•œ ì¤„ì€ 120ìë¥¼ ë„˜ì§€ ì•Šì•„ì•¼ í•¨"
      severity: "low"
      
  # ë³´ì•ˆ ê·œì¹™
  security:
    - id: "no-hardcoded-secrets"
      description: "í•˜ë“œì½”ë”©ëœ ì‹œí¬ë¦¿ í‚¤ ê¸ˆì§€"
      severity: "high"
      patterns:
        - "password\\s*=\\s*[\"'][^\"']+[\"']"
        - "api[_-]?key\\s*=\\s*[\"'][^\"']+[\"']"
        
    - id: "sql-injection"
      description: "SQL ì¸ì ì…˜ ì·¨ì•½ì  ê²€ì‚¬"
      severity: "high"
      
  # ì„±ëŠ¥ ê·œì¹™
  performance:
    - id: "n-plus-one-query"
      description: "N+1 ì¿¼ë¦¬ ë¬¸ì œ ê²€ì‚¬"
      severity: "medium"
      
    - id: "unnecessary-object-creation"
      description: "ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„± ë°©ì§€"
      severity: "low"
      
  # í…ŒìŠ¤íŠ¸ ê·œì¹™
  testing:
    - id: "test-coverage"
      description: "ìƒˆ ì½”ë“œëŠ” 80% ì´ìƒ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€"
      severity: "medium"
      threshold: 80
      
    - id: "test-naming"
      description: "í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëŠ” shouldë¡œ ì‹œì‘"
      severity: "low"
      
# AI ë¦¬ë·°ì–´ ì„¤ì •
ai_reviewer:
  enabled: true
  
  # ë¦¬ë·° í¬ì»¤ìŠ¤ ì˜ì—­
  focus_areas:
    - "security"
    - "performance"
    - "code_quality"
    - "best_practices"
    
  # ìë™ ìŠ¹ì¸ ì¡°ê±´
  auto_approve:
    enabled: true
    conditions:
      - max_lines_changed: 50
      - only_documentation: true
      - only_tests: true
      
  # ë¦¬ë·° ì œì™¸ íŒ¨í„´
  ignore_patterns:
    - "*.generated.java"
    - "*/test/resources/*"
    - "*.md"
    
  # ì»¤ìŠ¤í…€ í”„ë¡¬í”„íŠ¸
  custom_prompts:
    security_review: |
      ë‹¤ìŒ ë³´ì•ˆ ì·¨ì•½ì ì„ ì¤‘ì ì ìœ¼ë¡œ ê²€í† í•˜ì„¸ìš”:
      - OWASP Top 10 ì·¨ì•½ì 
      - ì¸ì¦/ì¸ê°€ ë¬¸ì œ
      - ë°ì´í„° ìœ ì¶œ ê°€ëŠ¥ì„±
      - ì•”í˜¸í™” ë¯¸ì ìš© ì˜ì—­
      
    performance_review: |
      ë‹¤ìŒ ì„±ëŠ¥ ì´ìŠˆë¥¼ ê²€í† í•˜ì„¸ìš”:
      - ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
      - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê°€ëŠ¥ì„±
      - ë™ì‹œì„± ë¬¸ì œ
      - ìºì‹± ê¸°íšŒ</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example 4: Multi-modal Analysis -->
                <div class="example-card bg-white rounded-lg shadow-lg overflow-hidden" data-category="analysis">
                    <div class="bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6">
                        <div class="flex items-center justify-between">
                            <h3 class="text-2xl font-bold flex items-center">
                                <i class="fas fa-images mr-3"></i>
                                ë©€í‹°ëª¨ë‹¬ ì½˜í…ì¸  ë¶„ì„
                            </h3>
                            <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">
                                ë‚œì´ë„: â­â­â­
                            </span>
                        </div>
                        <p class="mt-2 text-orange-100">ì´ë¯¸ì§€, ì˜¤ë””ì˜¤, ë¹„ë””ì˜¤ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ë¯¸ë””ì–´ë¥¼ ë¶„ì„í•˜ëŠ” ì‹œìŠ¤í…œ</p>
                    </div>
                    
                    <div class="p-6">
                        <div class="code-block p-4 relative">
                            <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                    onclick="copyCode('multimodal-code')">
                                <i class="fas fa-copy"></i> ë³µì‚¬
                            </button>
                            <pre id="multimodal-code"><code class="language-java">@Service
public class MultiModalAnalysisService {
    
    private final ChatClient chatClient;
    private final ImageAnalyzer imageAnalyzer;
    private final AudioTranscriber audioTranscriber;
    private final VideoProcessor videoProcessor;
    
    public MultiModalAnalysisResult analyzeContent(MultipartFile file) {
        MediaType mediaType = detectMediaType(file);
        
        return switch (mediaType) {
            case IMAGE -> analyzeImage(file);
            case AUDIO -> analyzeAudio(file);
            case VIDEO -> analyzeVideo(file);
            default -> throw new UnsupportedMediaException(mediaType);
        };
    }
    
    private ImageAnalysisResult analyzeImage(MultipartFile file) {
        // 1. ì´ë¯¸ì§€ ì „ì²˜ë¦¬
        BufferedImage image = preprocessImage(file);
        
        // 2. AI ë¶„ì„
        String analysis = chatClient.prompt()
            .user(u -> u.text("ì´ ì´ë¯¸ì§€ë¥¼ ìƒì„¸íˆ ë¶„ì„í•´ì£¼ì„¸ìš”.")
                       .media(MimeTypeUtils.IMAGE_PNG, image))
            .call()
            .content();
        
        // 3. ê°ì²´ ê°ì§€, í…ìŠ¤íŠ¸ ì¶”ì¶œ ë“±
        List<DetectedObject> objects = imageAnalyzer.detectObjects(image);
        String extractedText = imageAnalyzer.extractText(image);
        
        return ImageAnalysisResult.builder()
            .description(analysis)
            .objects(objects)
            .text(extractedText)
            .metadata(extractMetadata(image))
            .build();
    }
}</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Example 5: Real-time Dashboard -->
                <div class="example-card bg-white rounded-lg shadow-lg overflow-hidden" data-category="integration">
                    <div class="bg-gradient-to-r from-red-500 to-red-600 text-white p-6">
                        <div class="flex items-center justify-between">
                            <h3 class="text-2xl font-bold flex items-center">
                                <i class="fas fa-chart-line mr-3"></i>
                                AI ìš´ì˜ ëŒ€ì‹œë³´ë“œ
                            </h3>
                            <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">
                                ë‚œì´ë„: â­â­
                            </span>
                        </div>
                        <p class="mt-2 text-red-100">ì‹¤ì‹œê°„ìœ¼ë¡œ AI ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ê³¼ ë¹„ìš©ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ëŒ€ì‹œë³´ë“œ</p>
                    </div>
                    
                    <div class="p-6">
                        <div class="code-block p-4 relative">
                            <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                    onclick="copyCode('dashboard-code')">
                                <i class="fas fa-copy"></i> ë³µì‚¬
                            </button>
                            <pre id="dashboard-code"><code class="language-java">@RestController
@RequestMapping("/api/dashboard")
public class AIDashboardController {
    
    private final MetricsService metricsService;
    private final CostCalculator costCalculator;
    
    @GetMapping(value = "/metrics/stream", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
    public Flux<ServerSentEvent<DashboardMetrics>> streamMetrics() {
        return Flux.interval(Duration.ofSeconds(1))
            .map(tick -> {
                DashboardMetrics metrics = DashboardMetrics.builder()
                    .timestamp(Instant.now())
                    .requestsPerSecond(metricsService.getRequestRate())
                    .averageLatency(metricsService.getAverageLatency())
                    .tokenUsage(metricsService.getTokenUsage())
                    .errorRate(metricsService.getErrorRate())
                    .activeSessions(metricsService.getActiveSessions())
                    .estimatedCost(costCalculator.getCurrentCost())
                    .build();
                
                return ServerSentEvent.<DashboardMetrics>builder()
                    .data(metrics)
                    .event("metrics")
                    .build();
            });
    }
    
    @GetMapping("/alerts")
    public List<Alert> getActiveAlerts() {
        return metricsService.getActiveAlerts();
    }
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Resources -->
            <section class="mt-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-white">
                <h2 class="text-2xl font-bold mb-4">ğŸ“ ë” ë§ì€ ë¦¬ì†ŒìŠ¤</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-semibold mb-2">ê³ ê¸‰ íŒ¨í„´</h3>
                        <p class="text-sm mb-3">ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìœ„í•œ ê³ ê¸‰ íŒ¨í„´ê³¼ ì•„í‚¤í…ì²˜</p>
                        <a href="patterns.html" class="text-white underline">íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬ â†’</a>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-semibold mb-2">ì„±ëŠ¥ ìµœì í™”</h3>
                        <p class="text-sm mb-3">ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ìµœì í™” ê°€ì´ë“œ</p>
                        <a href="performance.html" class="text-white underline">ìµœì í™” ê°€ì´ë“œ â†’</a>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-lg p-4">
                        <h3 class="font-semibold mb-2">ë¬¸ì œ í•´ê²°</h3>
                        <p class="text-sm mb-3">ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œì™€ í•´ê²° ë°©ë²•</p>
                        <a href="troubleshooting.html" class="text-white underline">íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â†’</a>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // Copy code functionality
        function copyCode(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            navigator.clipboard.writeText(text).then(() => {
                showNotification('ì½”ë“œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        // Show notification
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg z-50';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 2000);
        }

        // Tab functionality
        function showTab(button, tabId) {
            // Find the parent card
            const card = button.closest('.example-card');
            
            // Update tab navigation
            card.querySelectorAll('.tab-nav').forEach(nav => {
                nav.classList.remove('border-blue-500', 'text-blue-600');
                nav.classList.add('border-transparent', 'text-gray-500');
            });
            button.classList.remove('border-transparent', 'text-gray-500');
            button.classList.add('border-blue-500', 'text-blue-600');
            
            // Update tab content
            card.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            card.querySelector(`#${tabId}`).classList.add('active');
        }

        // Example filtering
        document.querySelectorAll('.example-filter').forEach(button => {
            button.addEventListener('click', function() {
                // Update active button
                document.querySelectorAll('.example-filter').forEach(b => {
                    b.classList.remove('active', 'bg-blue-600', 'text-white');
                    b.classList.add('bg-gray-200', 'text-gray-700');
                });
                this.classList.add('active', 'bg-blue-600', 'text-white');
                this.classList.remove('bg-gray-200', 'text-gray-700');

                // Filter examples
                const category = this.dataset.category;
                document.querySelectorAll('.example-card').forEach(card => {
                    if (category === 'all' || card.dataset.category.includes(category)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Initialize syntax highlighting
        Prism.highlightAll();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chain Workflow íŒ¨í„´ - Spring AI</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .code-block { background: #2d3748; border-radius: 8px; }
        .copy-button { transition: all 0.2s ease; }
        .copy-button:hover { background-color: #4a5568; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <a href="../../index.html" class="flex items-center text-xl font-bold text-gray-800">
                        <i class="fab fa-spring text-green-600 mr-2"></i>
                        Spring AI Hub
                    </a>
                    <span class="mx-3 text-gray-400">/</span>
                    <a href="../patterns.html" class="text-gray-600 hover:text-gray-800">íŒ¨í„´ ê°€ì´ë“œ</a>
                    <span class="mx-3 text-gray-400">/</span>
                    <span class="text-gray-600">Chain Workflow</span>
                </div>
                <a href="../../index.html" class="text-blue-600 hover:text-blue-800">
                    <i class="fas fa-home"></i> í™ˆìœ¼ë¡œ
                </a>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-4xl font-bold mb-4">ğŸ”— Chain Workflow íŒ¨í„´</h1>
            <p class="text-gray-600 mb-8">ìˆœì°¨ì  ì‘ì—… ì²˜ë¦¬ë¡œ ë³µì¡í•œ íƒœìŠ¤í¬ë¥¼ ë‹¨ê³„ë³„ë¡œ í•´ê²°í•˜ëŠ” íŒ¨í„´</p>

            <!-- Overview -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">ê°œìš”</h2>
                
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <p class="mb-4">
                        Chain Workflow íŒ¨í„´ì€ ì—¬ëŸ¬ AI ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ë³µì¡í•œ íƒœìŠ¤í¬ë¥¼ í•´ê²°í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. 
                        ê° ë‹¨ê³„ì˜ ì¶œë ¥ì´ ë‹¤ìŒ ë‹¨ê³„ì˜ ì…ë ¥ì´ ë˜ë©°, íŒŒì´í”„ë¼ì¸ í˜•íƒœë¡œ ì‘ì—…ì´ ì§„í–‰ë©ë‹ˆë‹¤.
                    </p>
                    
                    <div class="bg-blue-50 p-4 rounded-lg mb-4">
                        <h3 class="font-semibold mb-2">ì£¼ìš” íŠ¹ì§•:</h3>
                        <ul class="space-y-1">
                            <li>âœ… ìˆœì°¨ì  ì‹¤í–‰ìœ¼ë¡œ ì˜ì¡´ì„± ê´€ë¦¬ ìš©ì´</li>
                            <li>âœ… ê° ë‹¨ê³„ë³„ ê²°ê³¼ ê²€ì¦ ê°€ëŠ¥</li>
                            <li>âœ… ì¤‘ê°„ ê²°ê³¼ ìºì‹± ê°€ëŠ¥</li>
                            <li>âœ… ì˜¤ë¥˜ ë°œìƒ ì‹œ íŠ¹ì • ë‹¨ê³„ë¶€í„° ì¬ì‹œì‘ ê°€ëŠ¥</li>
                            <li>âœ… ë‹¨ê³„ë³„ ëª¨ë‹ˆí„°ë§ ë° ë””ë²„ê¹… ìš©ì´</li>
                        </ul>
                    </div>

                    <div class="bg-gray-100 p-4 rounded-lg">
                        <h3 class="font-semibold mb-2">ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨:</h3>
                        <pre class="text-sm font-mono">
ì…ë ¥ ë°ì´í„°
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë‹¨ê³„ 1:     â”‚ â† ë¬¸ì„œ ë¶„ì„
â”‚  ë¶„ì„ ì‘ì—…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë‹¨ê³„ 2:     â”‚ â† í•µì‹¬ ë‚´ìš© ì¶”ì¶œ
â”‚  ìš”ì•½ ì‘ì—…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë‹¨ê³„ 3:     â”‚ â† ë‹µë³€ ìƒì„±
â”‚  ìƒì„± ì‘ì—…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
ìµœì¢… ê²°ê³¼
                        </pre>
                    </div>
                </div>
            </section>

            <!-- Basic Implementation -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">ê¸°ë³¸ êµ¬í˜„</h2>
                
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">Chain ì¸í„°í˜ì´ìŠ¤</h3>
                    
                    <div class="code-block p-4 relative mb-4">
                        <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                onclick="copyCode('chain-interface')">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                        <pre id="chain-interface"><code class="language-java">public interface Chain<I, O> {
    O process(I input);
    String getName();
    ChainMetrics getMetrics();
}

public class ChainBuilder<I, O> {
    private final List<Chain<?, ?>> chains = new ArrayList<>();
    
    public <T> ChainBuilder<I, T> addStep(Chain<O, T> chain) {
        chains.add(chain);
        return (ChainBuilder<I, T>) this;
    }
    
    public Chain<I, O> build() {
        return new CompositeChain<>(chains);
    }
}

@Component
public class CompositeChain<I, O> implements Chain<I, O> {
    
    private final List<Chain<?, ?>> steps;
    private final ChainMonitor monitor;
    
    @Override
    public O process(I input) {
        Object current = input;
        
        for (int i = 0; i < steps.size(); i++) {
            Chain step = steps.get(i);
            
            monitor.beforeStep(step.getName(), current);
            
            try {
                current = step.process(current);
                monitor.afterStep(step.getName(), current);
            } catch (Exception e) {
                monitor.onError(step.getName(), e);
                throw new ChainExecutionException(
                    "Failed at step: " + step.getName(), e
                );
            }
        }
        
        return (O) current;
    }
}</code></pre>
                    </div>
                </div>

                <!-- Document Processing Chain -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">ë¬¸ì„œ ì²˜ë¦¬ ì²´ì¸ ì˜ˆì œ</h3>
                    
                    <div class="code-block p-4 relative mb-4">
                        <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                onclick="copyCode('document-chain')">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                        <pre id="document-chain"><code class="language-java">@Service
public class DocumentProcessingChain {
    
    private final Chain<Document, ProcessedDocument> processingChain;
    
    public DocumentProcessingChain(
            DocumentAnalyzer analyzer,
            ContentSummarizer summarizer,
            AnswerGenerator generator) {
        
        this.processingChain = new ChainBuilder<Document, ProcessedDocument>()
            .addStep(new AnalysisStep(analyzer))
            .addStep(new SummarizationStep(summarizer))
            .addStep(new GenerationStep(generator))
            .build();
    }
    
    public ProcessedDocument processDocument(Document document) {
        return processingChain.process(document);
    }
}

// Step 1: ë¬¸ì„œ ë¶„ì„
@Component
public class AnalysisStep implements Chain<Document, AnalyzedDocument> {
    
    private final DocumentAnalyzer analyzer;
    private final ChatClient chatClient;
    
    @Override
    public AnalyzedDocument process(Document input) {
        log.info("Analyzing document: {}", input.getTitle());
        
        // AIë¥¼ í™œìš©í•œ ë¬¸ì„œ ë¶„ì„
        String analysis = chatClient.prompt()
            .system("ë‹¹ì‹ ì€ ë¬¸ì„œ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.")
            .user(u -> u.text("""
                ë‹¤ìŒ ë¬¸ì„œë¥¼ ë¶„ì„í•˜ì—¬ êµ¬ì¡°í™”ëœ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì„¸ìš”:
                - ì£¼ìš” ì£¼ì œ
                - í•µì‹¬ ê°œë…
                - ì¤‘ìš”í•œ ì‚¬ì‹¤
                - ê´€ê³„ì„±
                
                ë¬¸ì„œ: {document}
                """)
                .param("document", input.getContent()))
            .call()
            .content();
        
        return AnalyzedDocument.builder()
            .originalDocument(input)
            .analysis(parseAnalysis(analysis))
            .metadata(extractMetadata(input))
            .timestamp(Instant.now())
            .build();
    }
}

// Step 2: ë‚´ìš© ìš”ì•½
@Component
public class SummarizationStep implements Chain<AnalyzedDocument, SummarizedDocument> {
    
    private final ChatClient chatClient;
    
    @Override
    public SummarizedDocument process(AnalyzedDocument input) {
        log.info("Summarizing analyzed document");
        
        String summary = chatClient.prompt()
            .system("í•µì‹¬ ë‚´ìš©ì„ ê°„ê²°í•˜ê²Œ ìš”ì•½í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.")
            .user(u -> u.text("""
                ë‹¤ìŒ ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìš”ì•½ì„ ìƒì„±í•˜ì„¸ìš”:
                
                ì£¼ìš” ì£¼ì œ: {topics}
                í•µì‹¬ ê°œë…: {concepts}
                ì¤‘ìš” ì‚¬ì‹¤: {facts}
                
                ìš”êµ¬ì‚¬í•­:
                - 3-5ê°œì˜ í•µì‹¬ í¬ì¸íŠ¸
                - ê° í¬ì¸íŠ¸ëŠ” í•œ ë¬¸ì¥ìœ¼ë¡œ
                - ì „ë¬¸ ìš©ì–´ëŠ” ì‰½ê²Œ ì„¤ëª…
                """)
                .param("topics", input.getAnalysis().getTopics())
                .param("concepts", input.getAnalysis().getConcepts())
                .param("facts", input.getAnalysis().getFacts()))
            .call()
            .content();
        
        return SummarizedDocument.builder()
            .analyzedDocument(input)
            .summary(summary)
            .keyPoints(extractKeyPoints(summary))
            .build();
    }
}

// Step 3: ë‹µë³€ ìƒì„±
@Component
public class GenerationStep implements Chain<SummarizedDocument, ProcessedDocument> {
    
    private final ChatClient chatClient;
    private final QualityChecker qualityChecker;
    
    @Override
    public ProcessedDocument process(SummarizedDocument input) {
        log.info("Generating final output");
        
        // ì‚¬ìš©ì ì¹œí™”ì  ë‹µë³€ ìƒì„±
        String response = chatClient.prompt()
            .system("ì¹œì ˆí•˜ê³  ì •í™•í•œ ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.")
            .user(u -> u.text("""
                ë‹¤ìŒ ìš”ì•½ì„ ë°”íƒ•ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ìœ ìš©í•œ ë‹µë³€ì„ ìƒì„±í•˜ì„¸ìš”:
                
                ìš”ì•½: {summary}
                í•µì‹¬ í¬ì¸íŠ¸: {keyPoints}
                
                ë‹µë³€ í˜•ì‹:
                - ì¸ì‚¬ë§ê³¼ í•¨ê»˜ ì‹œì‘
                - í•µì‹¬ ë‚´ìš©ì„ ì‰½ê²Œ ì„¤ëª…
                - ì‹¤ìš©ì ì¸ ì¡°ì–¸ í¬í•¨
                - ì¶”ê°€ ì •ë³´ ì•ˆë‚´ë¡œ ë§ˆë¬´ë¦¬
                """)
                .param("summary", input.getSummary())
                .param("keyPoints", input.getKeyPoints()))
            .call()
            .content();
        
        // í’ˆì§ˆ ê²€ì¦
        QualityScore score = qualityChecker.evaluate(response);
        
        if (score.getValue() < 0.7) {
            // í’ˆì§ˆì´ ë‚®ìœ¼ë©´ ì¬ìƒì„±
            response = regenerateWithFeedback(input, score.getFeedback());
        }
        
        return ProcessedDocument.builder()
            .originalDocument(input.getAnalyzedDocument().getOriginalDocument())
            .finalResponse(response)
            .processingSteps(List.of("analysis", "summarization", "generation"))
            .qualityScore(score)
            .processingTime(calculateProcessingTime())
            .build();
    }
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- Advanced Features -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">ê³ ê¸‰ ê¸°ëŠ¥</h2>
                
                <!-- Error Handling -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">ì˜¤ë¥˜ ì²˜ë¦¬ ë° ì¬ì‹œë„</h3>
                    
                    <div class="code-block p-4 relative mb-4">
                        <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                onclick="copyCode('chain-error-handling')">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                        <pre id="chain-error-handling"><code class="language-java">@Component
public class ResilientChain<I, O> implements Chain<I, O> {
    
    private final Chain<I, O> delegate;
    private final RetryTemplate retryTemplate;
    private final CircuitBreaker circuitBreaker;
    private final ChainStateStore stateStore;
    
    @Override
    public O process(I input) {
        String executionId = UUID.randomUUID().toString();
        
        return circuitBreaker.executeSupplier(() ->
            retryTemplate.execute(context -> {
                try {
                    // ìƒíƒœ ì €ì¥
                    stateStore.saveInput(executionId, input);
                    
                    // ì‹¤í–‰
                    O result = delegate.process(input);
                    
                    // ì„±ê³µ ìƒíƒœ ì €ì¥
                    stateStore.saveSuccess(executionId, result);
                    
                    return result;
                    
                } catch (Exception e) {
                    // ì‹¤íŒ¨ ìƒíƒœ ì €ì¥
                    stateStore.saveFailure(executionId, e);
                    
                    // ë³µêµ¬ ê°€ëŠ¥í•œ ì˜¤ë¥˜ì¸ì§€ í™•ì¸
                    if (isRecoverable(e)) {
                        log.warn("Recoverable error, retrying: {}", e.getMessage());
                        throw e;
                    } else {
                        log.error("Non-recoverable error: {}", e.getMessage());
                        return handleNonRecoverableError(input, e);
                    }
                }
            })
        );
    }
    
    private boolean isRecoverable(Exception e) {
        return e instanceof TimeoutException ||
               e instanceof RateLimitException ||
               (e instanceof ApiException && ((ApiException) e).isRetryable());
    }
}</code></pre>
                    </div>
                </div>

                <!-- Caching -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">ì¤‘ê°„ ê²°ê³¼ ìºì‹±</h3>
                    
                    <div class="code-block p-4 relative mb-4">
                        <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                onclick="copyCode('chain-caching')">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                        <pre id="chain-caching"><code class="language-java">@Component
public class CachedChain<I, O> implements Chain<I, O> {
    
    private final Chain<I, O> delegate;
    private final LoadingCache<I, O> cache;
    
    public CachedChain(Chain<I, O> delegate) {
        this.delegate = delegate;
        this.cache = Caffeine.newBuilder()
            .maximumSize(100)
            .expireAfterWrite(1, TimeUnit.HOURS)
            .recordStats()
            .build(key -> delegate.process(key));
    }
    
    @Override
    public O process(I input) {
        try {
            return cache.get(input);
        } catch (Exception e) {
            log.error("Cache operation failed", e);
            // ìºì‹œ ì‹¤íŒ¨ ì‹œ ì§ì ‘ ì‹¤í–‰
            return delegate.process(input);
        }
    }
    
    public CacheStats getStats() {
        return cache.stats();
    }
    
    public void invalidate(I input) {
        cache.invalidate(input);
    }
}

// ì„ íƒì  ìºì‹±ì´ ê°€ëŠ¥í•œ ì²´ì¸
@Service
public class SelectiveCachingChain {
    
    public Chain<Document, ProcessedDocument> buildChain() {
        return new ChainBuilder<Document, ProcessedDocument>()
            // ë¶„ì„ ë‹¨ê³„ëŠ” ìºì‹±
            .addStep(new CachedChain<>(new AnalysisStep()))
            // ìš”ì•½ ë‹¨ê³„ëŠ” ìºì‹±í•˜ì§€ ì•ŠìŒ (ìì£¼ ë³€ê²½ë¨)
            .addStep(new SummarizationStep())
            // ìƒì„± ë‹¨ê³„ë„ ìºì‹±í•˜ì§€ ì•ŠìŒ (ê°œì¸í™”ëœ ì‘ë‹µ)
            .addStep(new GenerationStep())
            .build();
    }
}</code></pre>
                    </div>
                </div>

                <!-- Monitoring -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">ì²´ì¸ ëª¨ë‹ˆí„°ë§</h3>
                    
                    <div class="code-block p-4 relative">
                        <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                onclick="copyCode('chain-monitoring')">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                        <pre id="chain-monitoring"><code class="language-java">@Component
@Slf4j
public class ChainMonitor {
    
    private final MeterRegistry meterRegistry;
    private final ChainEventPublisher eventPublisher;
    
    public void beforeStep(String stepName, Object input) {
        Timer.Sample sample = Timer.start(meterRegistry);
        MDC.put("chain.step", stepName);
        MDC.put("chain.input.size", String.valueOf(calculateSize(input)));
        
        eventPublisher.publishStepStarted(ChainStepEvent.builder()
            .stepName(stepName)
            .timestamp(Instant.now())
            .inputType(input.getClass().getSimpleName())
            .build());
    }
    
    public void afterStep(String stepName, Object output) {
        meterRegistry.counter("chain.step.completed",
            "step", stepName,
            "status", "success"
        ).increment();
        
        MDC.put("chain.output.size", String.valueOf(calculateSize(output)));
        
        eventPublisher.publishStepCompleted(ChainStepEvent.builder()
            .stepName(stepName)
            .timestamp(Instant.now())
            .outputType(output.getClass().getSimpleName())
            .build());
        
        MDC.clear();
    }
    
    public void onError(String stepName, Exception error) {
        meterRegistry.counter("chain.step.completed",
            "step", stepName,
            "status", "error",
            "error.type", error.getClass().getSimpleName()
        ).increment();
        
        log.error("Chain step failed: {}", stepName, error);
        
        eventPublisher.publishStepFailed(ChainStepEvent.builder()
            .stepName(stepName)
            .timestamp(Instant.now())
            .error(error.getMessage())
            .build());
    }
}

// ì²´ì¸ ì‹¤í–‰ ì¶”ì 
@Component
public class ChainExecutionTracer {
    
    private final Tracer tracer;
    
    public <T> T traceExecution(String chainName, Supplier<T> execution) {
        Span span = tracer.nextSpan()
            .name("chain." + chainName)
            .start();
        
        try (Tracer.SpanInScope ws = tracer.withSpanInScope(span)) {
            span.tag("chain.name", chainName);
            
            T result = execution.get();
            
            span.tag("chain.status", "success");
            return result;
            
        } catch (Exception e) {
            span.error(e);
            span.tag("chain.status", "error");
            throw e;
        } finally {
            span.end();
        }
    }
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- Real-World Examples -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">ì‹¤ì „ ì˜ˆì œ</h2>
                
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">ì½”ë“œ ë¦¬ë·° ì²´ì¸</h3>
                    
                    <div class="code-block p-4 relative">
                        <button class="copy-button absolute top-2 right-2 bg-gray-600 text-white px-2 py-1 rounded text-xs" 
                                onclick="copyCode('code-review-chain')">
                            <i class="fas fa-copy"></i> ë³µì‚¬
                        </button>
                        <pre id="code-review-chain"><code class="language-java">@Service
public class CodeReviewChain {
    
    private final Chain<CodeSubmission, ReviewResult> reviewChain;
    
    public CodeReviewChain() {
        this.reviewChain = new ChainBuilder<CodeSubmission, ReviewResult>()
            .addStep(new SyntaxAnalysisStep())      // ë¬¸ë²• ê²€ì‚¬
            .addStep(new SecurityAnalysisStep())     // ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬
            .addStep(new PerformanceAnalysisStep())  // ì„±ëŠ¥ ë¶„ì„
            .addStep(new BestPracticesStep())        // ëª¨ë²” ì‚¬ë¡€ ê²€ì‚¬
            .addStep(new ReviewSummaryStep())        // ì¢…í•© ë¦¬ë·°
            .build();
    }
    
    public ReviewResult reviewCode(CodeSubmission submission) {
        return reviewChain.process(submission);
    }
}

// ë³´ì•ˆ ë¶„ì„ ë‹¨ê³„
@Component
public class SecurityAnalysisStep implements Chain<CodeAnalysis, SecurityAnalysis> {
    
    private final ChatClient chatClient;
    private final SecurityRuleEngine ruleEngine;
    
    @Override
    public SecurityAnalysis process(CodeAnalysis input) {
        // ê·œì¹™ ê¸°ë°˜ ê²€ì‚¬
        List<SecurityIssue> ruleBasedIssues = ruleEngine.analyze(input.getCode());
        
        // AI ê¸°ë°˜ ê²€ì‚¬
        String aiAnalysis = chatClient.prompt()
            .system("""
                ë‹¹ì‹ ì€ ë³´ì•ˆ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. 
                ë‹¤ìŒ ì½”ë“œì˜ ë³´ì•ˆ ì·¨ì•½ì ì„ ì°¾ì•„ì£¼ì„¸ìš”:
                - SQL Injection
                - XSS
                - ì¸ì¦/ì¸ê°€ ë¬¸ì œ
                - ë¯¼ê° ì •ë³´ ë…¸ì¶œ
                - ê¸°íƒ€ ë³´ì•ˆ ìœ„í—˜
                """)
            .user(input.getCode())
            .call()
            .content();
        
        List<SecurityIssue> aiIssues = parseSecurityIssues(aiAnalysis);
        
        return SecurityAnalysis.builder()
            .codeAnalysis(input)
            .issues(mergeIssues(ruleBasedIssues, aiIssues))
            .severity(calculateSeverity(ruleBasedIssues, aiIssues))
            .recommendations(generateRecommendations(aiIssues))
            .build();
    }
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- Best Practices -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-4">ğŸ¯ Best Practices</h2>
                
                <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">Chain Workflow ì„¤ê³„ ì›ì¹™</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold mb-2">ì„¤ê³„ ì›ì¹™</h4>
                            <ul class="space-y-1 text-sm">
                                <li>âœ… ê° ë‹¨ê³„ëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜</li>
                                <li>âœ… ë‹¨ê³„ ê°„ ëª…í™•í•œ ì¸í„°í˜ì´ìŠ¤ ì •ì˜</li>
                                <li>âœ… ì‹¤íŒ¨ ì‹œ ë¡¤ë°± ì „ëµ ìˆ˜ë¦½</li>
                                <li>âœ… ì¤‘ìš”í•œ ë‹¨ê³„ëŠ” ê²°ê³¼ ê²€ì¦ ì¶”ê°€</li>
                                <li>âœ… ê¸´ ì²´ì¸ì€ ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸ ì„¤ì •</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold mb-2">ì„±ëŠ¥ ìµœì í™”</h4>
                            <ul class="space-y-1 text-sm">
                                <li>âœ… ë¹„ìš©ì´ í° ë‹¨ê³„ëŠ” ìºì‹± ê³ ë ¤</li>
                                <li>âœ… ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥í•œ ë¶€ë¶„ ì‹ë³„</li>
                                <li>âœ… ì¡°ê¸° ì¢…ë£Œ ì¡°ê±´ ì„¤ì •</li>
                                <li>âœ… íƒ€ì„ì•„ì›ƒ ì„¤ì •ìœ¼ë¡œ ë¬´í•œ ëŒ€ê¸° ë°©ì§€</li>
                                <li>âœ… ë°°ì¹˜ ì²˜ë¦¬ë¡œ ì²˜ë¦¬ëŸ‰ í–¥ìƒ</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Next Steps -->
            <section class="bg-white rounded-lg shadow-sm p-6">
                <h2 class="text-xl font-semibold mb-4">ë‹¤ìŒ ë‹¨ê³„</h2>
                
                <div class="grid md:grid-cols-3 gap-4">
                    <a href="parallel.html" class="block p-4 border rounded-lg hover:bg-gray-50 transition">
                        <h3 class="font-semibold text-green-600 mb-2">Parallel Processing</h3>
                        <p class="text-sm text-gray-600">ë³‘ë ¬ ì²˜ë¦¬ íŒ¨í„´ ì•Œì•„ë³´ê¸°</p>
                    </a>
                    
                    <a href="routing.html" class="block p-4 border rounded-lg hover:bg-gray-50 transition">
                        <h3 class="font-semibold text-purple-600 mb-2">Smart Routing</h3>
                        <p class="text-sm text-gray-600">ì§€ëŠ¥í˜• ë¼ìš°íŒ… íŒ¨í„´</p>
                    </a>
                    
                    <a href="../patterns.html" class="block p-4 border rounded-lg hover:bg-gray-50 transition">
                        <h3 class="font-semibold text-blue-600 mb-2">íŒ¨í„´ ëª©ë¡</h3>
                        <p class="text-sm text-gray-600">ì „ì²´ íŒ¨í„´ ë³´ê¸°</p>
                    </a>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        function copyCode(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            navigator.clipboard.writeText(text).then(() => {
                showNotification('ì½”ë“œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg z-50';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 2000);
        }
    </script>
</body>
</html>